@model string

<header class="fixed top-0 left-0 w-full z-[9999] @Model transition-all duration-300 bg-gray-900/95">
    <div class="container mx-auto flex flex-wrap items-center justify-between px-4 py-4 md:py-6">
        <!-- Logo -->
        <a href="/" class="flex items-center space-x-3">
            <img src="~/Images/logo/last_ned__2_-removebg-preview.png" alt="Kartverket Logo" class="h-10 w-auto" />
            <span class="text-2xl font-bold tracking-wide text-white hidden md:inline">Kartverket</span>
        </a>

        <!-- Hamburger button (mobile) -->
        <button id="navToggle" class="md:hidden inline-flex items-center justify-center p-2 rounded-md text-white hover:bg-gray-700">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>

        <!-- Navbar links -->
        <nav id="primaryNav" class="hidden md:flex flex-wrap items-center space-x-2 md:space-x-6 mt-2 md:mt-0 w-full md:w-auto">

            @if (User.Identity?.IsAuthenticated ?? false)
            {
                <a asp-controller="Account" asp-action="Profile"
                   class="flex flex-col md:flex-row items-center justify-center px-2 md:px-3 py-2 rounded-full bg-gray-800 hover:bg-gray-700 text-white text-center whitespace-nowrap">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 md:mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M5.121 17.804A8 8 0 1112 20a8 8 0 01-6.879-2.196z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 12a4 4 0 100-8 4 4 0 000 8z" />
                    </svg>
                    <span class="hidden md:inline">Profile</span>
                </a>

                <!-- kun for reviewer eller admin -->
                @if (User.IsInRole("reviewer") || User.IsInRole("admin"))
                {
                    <a asp-controller="Account" asp-action="OverviewAll"
                       class="flex flex-col md:flex-row items-center justify-center px-2 md:px-3 py-2 rounded-full bg-gray-800 hover:bg-gray-700 text-white text-center whitespace-nowrap">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 md:mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 5.25A2.25 2.25 0 015.25 3h13.5A2.25 2.25 0 0121 5.25v15.5a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 20.75V5.25z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 9.75h18" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 14.25h9" />
                        </svg>
                        <span class="hidden md:inline">All Reports</span>
                    </a>
                }

                <a asp-controller="Account" asp-action="Reports"
                   class="flex flex-col md:flex-row items-center justify-center px-2 md:px-3 py-2 rounded-full bg-gray-800 hover:bg-gray-700 text-white text-center whitespace-nowrap">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 md:mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 17v-6h6v6m2 0H7a2 2 0 01-2-2V7a2 2 0 012-2h3.5l2 2H17a2 2 0 012 2v6a2 2 0 01-2 2z" />
                    </svg>
                    <span class="hidden md:inline">My Reports</span>
                </a>

                <a href="/Obstacle/DataForm"
                   class="flex flex-col md:flex-row items-center justify-center px-2 md:px-3 py-2 rounded-full bg-gray-800 hover:bg-gray-700 text-white text-center whitespace-nowrap">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 md:mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 11.25c1.242 0 2.25-1.008 2.25-2.25S13.242 6.75 12 6.75 9.75 7.758 9.75 9s1.008 2.25 2.25 2.25z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 2.25c4.556 0 8.25 3.694 8.25 8.25 0 5.25-8.25 11.25-8.25 11.25S3.75 15.75 3.75 10.5C3.75 5.944 7.444 2.25 12 2.25z" />
                    </svg>
                    <span class="hidden md:inline">Map</span>
                </a>

                <a asp-controller="Account" asp-action="Logout"
                   class="flex flex-col md:flex-row items-center justify-center px-2 md:px-3 py-2 rounded-full bg-gray-800 hover:bg-gray-700 text-white text-center whitespace-nowrap">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 md:mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12H3m12 0l-3-3m3 3l-3 3M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span class="hidden md:inline">Logout</span>
                </a>
            }
        </nav>
    </div>
</header>

<script>
    const navToggle = document.getElementById('navToggle');
    const primaryNav = document.getElementById('primaryNav');
    if (navToggle && primaryNav) {
        navToggle.addEventListener('click', () => {
            primaryNav.classList.toggle('hidden');
        });
    }
</script>
